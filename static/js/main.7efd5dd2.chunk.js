(this["webpackJsonptodo-v3"]=this["webpackJsonptodo-v3"]||[]).push([[0],{25:function(e,t,a){e.exports=a(35)},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(4),s=a(2),i=a(23),m=a(5),u=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return Object(m.isAuthenticated)()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},d=function(){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-4"},"Hello, User!"),r.a.createElement("p",{className:"lead"},"This is a simple Todo app, with a simple jumbotron-style component for calling extra attention to featured content or information."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,"Hello once again i didn't know what to write so i wrote this stuff."),r.a.createElement(l.b,{to:"/signup",className:"btn btn-primary btn-lg"},"Signup"),r.a.createElement(l.b,{to:"/login",className:"btn btn-primary btn-lg ml-4"},"Login"))},p=a(9),f=a(1),h=a(10),b=function(){var e=Object(n.useState)({name:"",email:"",password:"",status:"",message:"",redirectTo:!1}),t=Object(h.a)(e,2),a=t[0],c=t[1],o=a.name,i=a.email,u=a.password,d=a.status,b=a.message,E=a.redirectTo,g=function(e){return function(t){c(Object(f.a)(Object(f.a)({},a),{},Object(p.a)({},e,t.target.value)))}},v=function(e){e.preventDefault(),Object(m.signup)(o,i,u).then((function(e){"success"===(null===e||void 0===e?void 0:e.status)?(localStorage.setItem("jwt",e.token),c(Object(f.a)(Object(f.a)({},a),{},{name:"",email:"",password:"",status:e.status,redirectTo:!0}))):"fail"===(null===e||void 0===e?void 0:e.status)&&c(Object(f.a)(Object(f.a)({},a),{},{status:e.status,message:e.message}))}))};return r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"card text-center",style:{width:"30rem"}},r.a.createElement("h6",{className:"card-header text-right"},r.a.createElement(l.b,{to:"/login"},"Login")),r.a.createElement("h5",{className:"card-header"},"Signup"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===d?"":"none"}},b),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Fullname"),r.a.createElement("input",{required:!0,type:"text",className:"form-control",value:o,onChange:g("name")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{required:!0,type:"email",className:"form-control",value:i,onChange:g("email")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:u,className:"form-control",onChange:g("password")})),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:v},"Submit")))),function(){if(E)return r.a.createElement(s.a,{to:"/"})}())},E=function(){var e=Object(n.useState)({email:"",password:"",status:"",mesasge:"",redirectTo:!1}),t=Object(h.a)(e,2),a=t[0],c=t[1],o=a.email,i=a.password,u=a.status,d=a.mesasge,b=a.redirectTo,E=function(e){return function(t){c(Object(f.a)(Object(f.a)({},a),{},Object(p.a)({},e,t.target.value)))}},g=function(e){e.preventDefault(),Object(m.login)(o,i).then((function(e){"success"===(null===e||void 0===e?void 0:e.status)?(localStorage.setItem("jwt",e.token),c(Object(f.a)(Object(f.a)({},a),{},{email:"",password:"",status:e.status,redirectTo:!0}))):"fail"===(null===e||void 0===e?void 0:e.status)?c(Object(f.a)(Object(f.a)({},a),{},{status:e.status,mesasge:e.messsage})):c(Object(f.a)(Object(f.a)({},a),{},{status:"fail",mesasge:"Invalid input data"}))}))};return r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"card",style:{width:"30rem"}},r.a.createElement("h6",{className:"card-header text-right"},r.a.createElement(l.b,{to:"/signup"},"Signup")),r.a.createElement("h5",{className:"card-header text-center"},"Login"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===u?"":"none"}},d),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",className:"form-control",onChange:E("email"),value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",onChange:E("password"),value:i})),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:g},"Submit"))))),function(){if(b)return r.a.createElement(s.a,{to:"/"})}())},g=function(){var e=Object(n.useState)({title:"",summary:"",status:"",message:"",redirectTo:!1}),t=Object(h.a)(e,2),a=t[0],c=t[1],o=a.title,i=a.summary,u=a.status,d=a.message,b=a.redirectTo,E=function(e){return function(t){c(Object(f.a)(Object(f.a)({},a),{},Object(p.a)({},e,t.target.value)))}},g=function(e){e.preventDefault(),Object(m.createTodo)(localStorage.getItem("jwt"),o,i).then((function(e){"success"===(null===e||void 0===e?void 0:e.status)?c(Object(f.a)(Object(f.a)({},a),{},{title:"",summary:"",status:e.status,redirectTo:!0})):"fail"===(null===e||void 0===e?void 0:e.status)?c(Object(f.a)(Object(f.a)({},a),{},{status:e.status,message:e.message})):c(Object(f.a)(Object(f.a)({},a),{},{status:"fail",message:"Invalid input data"}))}))};return r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"card",style:{width:"30rem"}},r.a.createElement("h6",{className:"card-header text-right"},r.a.createElement(l.b,{to:"/"},"Back")),r.a.createElement("h5",{className:"card-header text-center"},"Create todo"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===u?"":"none"}},d),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",value:o,onChange:E("title")})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Summary"),r.a.createElement("input",{type:"text",className:"form-control",value:i,onChange:E("summary")})),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:g},"Add"))))),function(){if(b)return r.a.createElement(s.a,{to:"/"})}())},v=function(e){e.history;var t=e.location,a=Object(n.useState)({title:t.state.prevTitle,summary:t.state.prevSummary,id:t.state.id,status:"",message:"",redirectTo:!1}),c=Object(h.a)(a,2),o=c[0],i=c[1],u=o.title,d=o.summary,b=o.id,E=o.status,g=o.message,v=o.redirectTo,y=function(e){return function(t){i(Object(f.a)(Object(f.a)({},o),{},Object(p.a)({},e,t.target.value)))}},j=function(e){e.preventDefault(),Object(m.editTodo)(localStorage.getItem("jwt"),b,u,d).then((function(e){"success"===(null===e||void 0===e?void 0:e.status)?i(Object(f.a)(Object(f.a)({},o),{},{title:"",summary:"",id:"",status:e.status,redirectTo:!0})):"fail"===(null===e||void 0===e?void 0:e.status)&&i(Object(f.a)(Object(f.a)({},o),{},{status:e.status,message:e.message}))}))};return r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},r.a.createElement("div",{className:"card",style:{width:"30rem"}},r.a.createElement("h6",{className:"card-header text-right"},r.a.createElement(l.b,{to:"/"},"Back")),r.a.createElement("h5",{className:"card-header text-center"},"Edit todo"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===E?"":"none"}},g),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",onChange:y("title"),value:u})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Summary"),r.a.createElement("input",{type:"text",className:"form-control",onChange:y("summary"),value:d})),r.a.createElement("center",null,r.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:j},"Update"))))),function(){if(v)return r.a.createElement(s.a,{to:"/"})}())},y=a(20),j=a(21),N=a(24),O=a(22),T=function(e){var t=e.title,a=e.summary,n=e.id,c=e.removeTodo;return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"card  mb-3"},r.a.createElement("div",{className:"card-header"},t),r.a.createElement("div",{className:"card-body text-primary"},r.a.createElement("p",{className:"card-text"},a)),r.a.createElement("div",{className:"card-footer bg-transparent "},r.a.createElement(l.b,{to:{pathname:"/edit",state:{prevTitle:t,prevSummary:a,id:n}},className:"btn btn-outline-primary float-left"},"Edit"),r.a.createElement("button",{className:"btn btn-outline-warning float-right",onClick:function(){c(n)}},"Delete"))))},w=function(e){Object(N.a)(a,e);var t=Object(O.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={todos:[]},e.handleLogout=function(){Object(m.logout)(),e.props.history.push("/home")},e.handleDelete=function(t){Object(m.deleteTodo)(localStorage.getItem("jwt"),t);var a=e.state.todos.filter((function(e){return e._id!==t}));e.setState({todos:a})},e.list=function(){var t;return r.a.createElement("div",{className:"card text-center",style:{width:"30rem"}},r.a.createElement("h6",{className:"card-header text-right"},r.a.createElement("button",{className:"btn btn-outline-danger",onClick:e.handleLogout},"Logout")),r.a.createElement("h5",{className:"card-header"},"Todos"),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"list-group"},e.state.todos.length>0?null===(t=e.state.todos)||void 0===t?void 0:t.map((function(t,a){return r.a.createElement(T,{title:t.title,summary:t.summary,id:t._id,key:a,removeTodo:e.handleDelete})})):r.a.createElement(T,{title:"THIS IS A DEFAULT TODO",summary:"No summary",key:1*Math.random()})),r.a.createElement("div",{className:"card-footer bg-transparent"},r.a.createElement(l.b,{to:"/add",className:"btn btn-primary"},"Add todo"))))},e}return Object(j.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;Object(m.listTodos)(localStorage.getItem("jwt")).then((function(t){"success"===(null===t||void 0===t?void 0:t.status)?e.setState({todos:t.data.todos}):e.setState({todos:{title:"You have no todo.",summary:"No todos."}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"d-flex justify-content-center mt-5"},this.list())}}]),a}(n.Component);var S=function(){return r.a.createElement(l.a,{className:"container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/home",exact:!0,component:d}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:b}),r.a.createElement(s.b,{path:"/login",exact:!0,component:E}),r.a.createElement(u,{path:"/add",exact:!0,component:g}),r.a.createElement(u,{path:"/edit",exact:!0,component:v}),r.a.createElement(u,{path:"/",exact:!0,component:w})))};o.a.render(r.a.createElement(S,null),document.getElementById("root"))},5:function(e,t){t.signup=function(e,t,a){return fetch("https://desolate-reef-21809.herokuapp.com/api/v1/users/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},t.login=function(e,t){return fetch("https://desolate-reef-21809.herokuapp.com/api/v1/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},t.isAuthenticated=function(){if(localStorage.getItem("jwt"))return!0},t.logout=function(){localStorage.removeItem("jwt")},t.createTodo=function(e,t,a){return fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({title:t,summary:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},t.listTodos=function(e){return fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},t.editTodo=function(e,t,a,n){return fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos/".concat(t),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({title:a,summary:n})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},t.deleteTodo=function(e,t){return fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).catch((function(e){return console.log(e)}))}}},[[25,1,2]]]);
//# sourceMappingURL=main.7efd5dd2.chunk.js.map